import { Canvas, Meta, Typeset } from "@storybook/addon-docs";
import { FontFamilies, ResetTypography, Typography } from "./Typography";
import { getTokenTitle, tokenParams } from '../utils'
// import { FontPreview } from './FontPreview/FontPreview'

<Meta
  title="Tokens/Typography"
  parameters={{...tokenParams}}
/>

export const SampleText = "The five boxing wizards jump quickly.";

export const FontList = ({font}) => {
  return (
    <>
      {Object.keys(font).map((name) => {
        return (
          <>
            <h3>{
              font[name].size
                ? getTokenTitle(name)
                : font[name].family.split(',').shift()}</h3>
            <p>
              <strong>Fallback: </strong>
              {font[name].family.split(',').pop()}
              <br/>
              <strong>Styles: </strong>
              {Object.keys(font[name].style).map((style, i) => {
                if (Object.keys(font[name].style).length === i + 1) {
                  return style
                }
                return style + ', '
              })}
              <br/>
              <strong>Weights: </strong>
              {Object.keys(font[name].weight).map((weight, i) => {
                if (Object.keys(font[name].weight).length === i + 1) {
                  return font[name].weight[weight] + '/' + weight
                }
                return font[name].weight[weight] + '/' + weight + ', '
              })}
            </p>
            <hr/>
            {Object.keys(font[name].weight).map((weight) => {
              return (
                Object.keys(font[name].style).map((style) => {
                  return (
                    <>
                      <p>
                        <b>Weight:</b> {font[name].weight[weight] + '/' + weight}
                        <br/>
                        <b>Style:</b> {font[name].style[style]}
                      </p>
                      <Typeset
                        style={{fontStyle: font[name].style[style]}}
                        sampleText={SampleText}
                        fontFamily={font[name].family}
                        fontWeight={font[name].weight[weight]}
                        fontSizes={
                          font[name].size
                            ? Object.values(font[name].size)
                            : [ResetTypography.size]}
                      />
                    </>
                  )
                })
              )
            })}
          </>
        )
      })}
    </>
  )
};

# Typography

<br/>

## For Designers

!!! **TODO:** EMBED FIGMA DOCUMENTATION HERE !!!

## For Developers

Typography styling is located in the `./v2/src/styles/_tokens/_typography.scss` and is part of `mise.scss`.

### Using Fonts

Fonts can be used with the `mise.font()` mixin. This custom SASS mixin takes a `category`, `name`, and optional `size`, `weight`, and `style` arguments. All fonts should be implemented with `mise.font()`, **overrides to properties should be agreed upon by both development and design** and should be done at the component level. 

#### SASS | *.scss

```
@use "./src/styles/mise.scss"

// Example: mise.font(category, name, size, weight, style)

.display {
  @include mise.font(display, primary, md, normal, normal);
}

.text {
  @include mise.font(text, primary, md, normal, normal);
}
```

## Fonts

### Text

<FontList font={Typography.text} />

## Display

<FontList font={Typography.display} />

### Using Mise Fonts

TEXT GOES HERE

#### SCSS | *scss

```
CODE GOES HERE
```

## Font Families

The following families are **for reference only**. These represent the families, styles, and weights that are mapped to `Mise Typography` and should not be used directly in code.

<FontList font={FontFamilies} />